@using Car_Sale_Web_Site.Models
@model Car_Sale_Web_Site.Models.PostCar

@{
    ViewBag.Title = "Edit";
}

<h2>Edit</h2>


@using (Html.BeginForm("Edit", "PostCars", null, FormMethod.Post, new {enctype = "multipart/form-data"}))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">

    <table id="headerTable">
        <tbody>
        <tr>
            <td width="500"><b>Basic Details</b></td>
            <td width="500"><b>Features and Characteristics</b></td>
        </tr>
        </tbody>
    </table>


    <table id="createTable">

    <tbody>

    <tr>
        <td width="300">
            Car Type
            @Html.DropDownListFor(m => m.CategoryId,
                new SelectList(Enum.GetValues(typeof(PostCar.Category))),
                "")
            @Html.ValidationMessageFor(model => model.CategoryId, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Climatronic, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Climatronic")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Climatic, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Climatic")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Insurance, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Insurance")
        </td>

    </tr>


    <tr>
        <td width="300">
            Doors number
            @Html.DropDownListFor(m => m.DoorId,
                new SelectList(Enum.GetValues(typeof(PostCar.Door))),
                "")
            @Html.ValidationMessageFor(model => model.DoorId, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Leather, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Leather")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.ElWindows, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ElWindows")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.Typetronic, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Typetronic")
        </td>

    </tr>


    <tr>
        <td width="300">
            Manufacturer
            @Html.EditorFor(model => model.Manufacturer, new {htmlAttributes = new {@class = "form-inline"}})
            @Html.ValidationMessageFor(model => model.Manufacturer, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.ElSeats, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ElSeats")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.SeatsHeat, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("SeatsHeat")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.Autopilot, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Autopilot")
        </td>

    </tr>



    <tr>
        <td width="300">
            Model
            @Html.EditorFor(model => model.CarModel, new {htmlAttributes = new {@class = "form-inline"}})
            @Html.ValidationMessageFor(model => model.CarModel, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Audio, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Audio")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Retro, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Retro")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.TAXI, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("TAXI")
        </td>
    </tr>


    <tr>
        <td width="300">
            Town
            @Html.EditorFor(model => model.Town, new {htmlAttributes = new {@class = "form-inline"}})
            @Html.ValidationMessageFor(model => model.Town, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.AllowWeels, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("AllowWeels")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.DVDTV, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("DVDTV")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.Computer, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Computer")
        </td>
    </tr>


    <tr>
        <td width="300">
            Fuel type
            @Html.DropDownListFor(m => m.FuelId,
                new SelectList(Enum.GetValues(typeof(PostCar.Fuel))),
                "")
            @Html.ValidationMessageFor(model => model.FuelId, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Airbag, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Airbag")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.FourByFour, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("FourByFour")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.ServiceHistory, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ServiceHistory")
        </td>

    </tr>


    <tr>
        <td width="300">
            Transmission
            @Html.DropDownListFor(m => m.GearId,
                new SelectList(Enum.GetValues(typeof(PostCar.Gear))),
                "")
            @Html.ValidationMessageFor(model => model.GearId, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.ABS, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ABS")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.ESP, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ESP")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.Tunning, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Tunning")
        </td>
    </tr>


    <tr>
        <td width="300">
            Year
            @Html.EditorFor(model => model.YearMin, new {htmlAttributes = new {@class = "form-inline"}})
            @Html.ValidationMessageFor(model => model.YearMin, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.HallogenLights, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("HallogenLights")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.NavigationSystem, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("NavigationSystem")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.ElMirrors, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ElMirrors")
        </td>
    </tr>



    <tr>
        <td width="300">
            Price
            @Html.EditorFor(model => model.Price, new {htmlAttributes = new {@class = "form-inline"}})
            @Html.ValidationMessageFor(model => model.Price, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.SevenSeats, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("SevenSeats")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.ASRTractionControl, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("ASRTractionControl")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.BrandNew, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("BrandNew")
        </td>
    </tr>


    <tr>
        <td width="300">
            Horse power
            @Html.EditorFor(model => model.HorsePower, new {htmlAttributes = new {@class = "form-inline"}})
            @Html.ValidationMessageFor(model => model.HorsePower, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Parktronic, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Parktronic")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Alarm, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Alarm")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.SecondHand, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("SecondHand")
        </td>
    </tr>
    <tr>
        <td width="300">
            Color
            @Html.DropDownListFor(m => m.ColorId,
                new SelectList(Enum.GetValues(typeof(PostCar.Color))),
                "")
            @Html.ValidationMessageFor(model => model.ColorId, "", new {@class = "text-danger"})
        </td>

        <td width="250">
            @Html.LabelFor(model => model.Imobilazer, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Imobilazer")
        </td>

        <td width="250">
            @Html.LabelFor(model => model.CentralLocking, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("CentralLocking")
        </td>
        <td width="250">
            @Html.LabelFor(model => model.Damaged, htmlAttributes: new {@class = "control-label col-md-2"})
            @Html.CheckBox("Damaged")
        </td>

    </tr>


    </tbody>
    </table>

    Description <br>
    @Html.EditorFor(model => model.CarDescription, new {htmlAttributes = new {@class = "form-control"}, @rows = "15", @cols = "15"})
    @Html.ValidationMessageFor(model => model.CarDescription, "", new {@class = "text-danger"})

    <br>
    @if (Model.Files.Any(f => f.FileType == FileType.Photo))
    {
        <table>
            @for (int i = 0; i < Model.Files.Count(); i++)
            {
                <td>
                    <img src="~/File?id=@Model.Files.ElementAt(i).FileId" alt="photo" width="160" height="100" />
                    <br />
                     @Html.ActionLink("Delete", "DeleteImage", new { id = Model.Files.ElementAt(i).FileId }) 
                    <input type="file" id="Avatar" name="@(String.Format("upload{0}", i))" />
                </td>

            }
            @for (int i = 0; i < 4 - Model.Files.Count(); i++)
            {
                <td>
                    <input type="file" id="Avatar" name="@(String.Format("upload{0}", Model.Files.Count() + i))" />
                </td>
            }
</table>
    }
    else
    {
        <table>
            @for (int i = 0; i < 4; i++)
            {
                <td>
                    <input type="file" id="Avatar" name="@(String.Format("upload{0}", Model.Files.Count()+ i))" />
                </td>
            }
        </table>
    }

        <br />
            <div style="margin-left: 400px" class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Save" class="btn btn-default" style="border-color: blue" />
                    <input type="button" value="Cancel" onclick="history.go(-1);return false;" class="btn btn-default" style="border-color:blue">
                </div>
            </div>



            @*<div>
                    @Html.ActionLink("Back to List", "MyCars")
                </div>*@@section Scripts {
                @Scripts.Render("~/bundles/jqueryval")
                }
</div>
}

